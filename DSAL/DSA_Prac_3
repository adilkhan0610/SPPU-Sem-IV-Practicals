/* 
A book consists of chapters , chapters consist of sections and sections consist of Sub- sections. Construct a tree and print the nodes. 
Find the time and space requirements of your method. 
*/


#include <iostream> 
#include <string.h> 
using namespace std;

struct node
{ 
string label; 
int ch_count;
struct node *child[10];
} * root;


class booktree
{
public:
void create_tree(); 
void display(node *r1);

booktree()
{  root = NULL;
}
};


void booktree::create_tree()
{
int tbooks, tchapters, i, j, k; 
root = new node;
cout << "ENTER NAME OF BOOK : ";
cin.get();
 
getline(cin, root->label);
cout << "ENTER NUMBERS OF CHAPTERS IN BOOK : ";
cin >> tchapters;
root->ch_count = tchapters; 

for (i = 0; i < tchapters; i++)
{
  root->child[i] = new node;
  cout << "ENTER THE NAME OF CHAPTER " << i + 1 << " : ";
  cin.get();
  getline(cin, root->child[i]->label);
  cout << "ENTER NUMBER OF SECTION IN CHAPTERS : " << root->child[i]->label << " : ";
  cin >> root->child[i]->ch_count;

  for (j = 0; j < root->child[i]->ch_count; j++)
  {
    root->child[i]->child[j] = new node;
    cout << "ENTER NAME OF SECTIONS " << j + 1 << " : ";
    cin.get();
    getline(cin, root->child[i]->child[j]->label);
  }
}
}


void booktree::display(node *r1)
{
  int i, j, k, tchapters; if (r1 != NULL)
  {
  cout << "******BOOK HEIRARCHY******"; 
  cout << "\n BOOK TITLE : " << r1->label; 
  tchapters = r1->ch_count;
  for (i = 0; i < tchapters; i++)
  {
    cout << "\nCHAPTER " << i + 1; 
    cout << " : " << r1->child[i]->label; 
    cout << "\nSECTIONS : ";
    
    for (j = 0; j < r1->child[i]->ch_count; j++)
    {
      cout <<"\n"<< r1->child[i]->child[j]->label;
    }
  }
  }
  cout << endl;
}


int main()
{
  int choice; 
  booktree bt; 

  while (1)
  {
  cout << "********************" << endl; cout << "BOOK TREE CREATION" << endl;
  cout << "********************" << endl; cout << "1.CREATE" << endl;
  cout << "2.DISPLAY" << endl; cout << "3.EXIT" << endl;
  cout << "ENTER YOUR CHOICE : ";
  cin >> choice; 


  switch (choice)
  {
  case 1:
    bt.create_tree(); 

  case 2:
    bt.display(root); 
    break;

  case 3:
    cout << "THANK YOU !!!";
    exit(1); 

  default:
    cout << "WRONG CHOICE ENTERED !!!" << endl;
  }
  }
return 0;
}
 

